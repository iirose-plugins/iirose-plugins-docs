# 媒体播放相关报文

本文档说明了与房间内媒体（音乐、视频）播放控制相关的报文。

## 点播媒体

### 报文流向

- **客户端 -> 服务器**: 发送点播请求，将一个媒体（音乐或视频）添加到播放列表中。

前往 [点播卡片](./events.md#点播卡片)


## 切歌

### 报文流向

- **客户端 -> 服务器**: 请求立即播放列表中的下一个媒体。

### 发送格式

直接在聊天框输入`cut`文字，发送即可

```log
{0{"m":"cut","mc":"614530","i":"503348881473"}
```

### 字段解析

| 字段名 | 数据类型 | 说明 |
| :----- | :------- | :--- |
| ...    | ...      | ...  |

### 接收格式

媒体成功被终止

```log
,
```

当前媒体切除投票已发起，当前 1 / 3 票

`_~M02`则是  `2 / 3 票`
```log
_~M01
```

当前没有正在播放的媒体
```log
_~P
```

您已经发起过投票了，当前1 / 3 票
```log
_~G1
```
:::tip
如果是自己发`cut`去终止自己点播的内容，则不会经过投票，会直接终止媒体。
:::

## 清空播放列表

### 报文流向

- **客户端 -> 服务器**: 请求清空整个媒体播放列表。

### 发送格式

```log
{1{"m":"cut all","mc":"d28ad2","i":"424754827366"}
```

### 字段解析

| 字段名 | 数据类型 | 说明 |
| :----- | :------- | :--- |
| ...    | ...      | ...  |

### 接收格式

当前媒体点播者全部媒体切除投票已发起，当前 1 / 3 票
```log
_~M11
```

您已经发起过投票了，当前 1/3票
```log
_~G1
```

当前没有正在播放的媒体
```log
_~P
```

:::tip
如果是自己发`cut`去终止自己点播的内容，则不会经过投票，会直接终止媒体。
:::

## 获取播放列表

[参考这里](./events.md#获取当前歌单)

## 播放信息更新

前往 [点播卡片](./events.md#点播消息)