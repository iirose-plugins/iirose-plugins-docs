import{_ as a,z as i,m as e,ap as t}from"./chunks/framework.Dj65yJjF.js";const c=JSON.parse('{"title":"开发指南","description":"","frontmatter":{},"headers":[],"relativePath":"markdown/adapter/development.md","filePath":"markdown/adapter/development.md","lastUpdated":1762520253000}'),n={name:"markdown/adapter/development.md"};function l(p,s,h,o,r,d){return e(),i("div",null,[...s[0]||(s[0]=[t(`<h1 id="开发指南" tabindex="-1">开发指南 <a class="header-anchor" href="#开发指南" aria-label="Permalink to &quot;开发指南&quot;">​</a></h1><p>本页面为开发者提供使用 IIROSE 适配器进行插件开发的详细指南。</p><h2 id="环境准备" tabindex="-1">环境准备 <a class="header-anchor" href="#环境准备" aria-label="Permalink to &quot;环境准备&quot;">​</a></h2><h3 id="前置要求" tabindex="-1">前置要求 <a class="header-anchor" href="#前置要求" aria-label="Permalink to &quot;前置要求&quot;">​</a></h3><ul><li>Node.js &gt;= 22.0.0</li><li>Koishi 4.18.8+</li><li>TypeScript</li></ul><h3 id="安装依赖" tabindex="-1">安装依赖 <a class="header-anchor" href="#安装依赖" aria-label="Permalink to &quot;安装依赖&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> iirose-plugins/koishi-plugin-adapter-iirose</span></span></code></pre></div><h3 id="添加到工作区" tabindex="-1">添加到工作区 <a class="header-anchor" href="#添加到工作区" aria-label="Permalink to &quot;添加到工作区&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> external</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> adapter-iirose</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">code</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>此步骤会打开VScode，并将<code>adapter-iirose</code>添加至工作区。</p><p>此步骤可以让 <code>.vscode/settings.json</code> 生效，统一项目的代码风格。</p><p>详见 -&gt; <a href="https://github.com/iirose-plugins/koishi-plugin-adapter-iirose/blob/main/.vscode/settings.json" target="_blank" rel="noreferrer">.vscode/settings.json</a></p></div><h3 id="开发模式启动" tabindex="-1">开发模式启动 <a class="header-anchor" href="#开发模式启动" aria-label="Permalink to &quot;开发模式启动&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ..</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ..</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> dev</span></span></code></pre></div><hr><h2 id="iirose-开发方法" tabindex="-1">IIROSE 开发方法 <a class="header-anchor" href="#iirose-开发方法" aria-label="Permalink to &quot;IIROSE 开发方法&quot;">​</a></h2><h3 id="监听ws消息" tabindex="-1">监听ws消息 <a class="header-anchor" href="#监听ws消息" aria-label="Permalink to &quot;监听ws消息&quot;">​</a></h3><p>安装浏览器js脚本：<a href="https://github.com/iirose-plugins/koishi-plugin-adapter-iirose/blob/main/scripts/IIROSE%20WebSocket%20Logger.js" target="_blank" rel="noreferrer">IIROSE WebSocket Logger.js</a></p><p>然后打开 <a href="https://iirose.com/" target="_blank" rel="noreferrer">https://iirose.com/</a> 页面</p><p>按下F12，查看console即可看到各种输出的ws消息了。</p><h3 id="发送ws消息" tabindex="-1">发送ws消息 <a class="header-anchor" href="#发送ws消息" aria-label="Permalink to &quot;发送ws消息&quot;">​</a></h3><p>在console输入</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;&gt;#&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span></code></pre></div><p>然后回车。</p><p>你就可以看到</p><div class="language-log vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">log</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">■■■ IIROSE Websocket ■■■ 收到消息: &gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1158</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;583.04694194009&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">50349476851476</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;0&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">40</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">981</span></span></code></pre></div><h2 id="代码规范问题" tabindex="-1">代码规范问题 <a class="header-anchor" href="#代码规范问题" aria-label="Permalink to &quot;代码规范问题&quot;">​</a></h2><p>请前往 -&gt; <a href="https://sonarcloud.io/project/security_hotspots?id=iirose-plugins_koishi-plugin-adapter-iirose&amp;branch=main&amp;issueStatuses=OPEN,CONFIRMED&amp;sinceLeakPeriod=true" target="_blank" rel="noreferrer">sonarcloud.io/project/security_hotspots</a></p>`,26)])])}const g=a(n,[["render",l]]);export{c as __pageData,g as default};
